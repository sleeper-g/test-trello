{"version":3,"file":"main.js","mappings":"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","sources":["webpack://dnd-trello/./src/js/Card.js","webpack://dnd-trello/./src/js/Board.js","webpack://dnd-trello/./src/js/app.js","webpack://dnd-trello/./src/index.js"],"sourcesContent":["export default class Card {\n  constructor(parent, value) {\n    this.parent = parent;\n    this.value = value;\n  }\n  addTask() {\n    const newEl = document.createElement(\"li\");\n    newEl.classList.add(\"task\");\n    newEl.textContent = this.value;\n    newEl.draggable = true;\n    this.parent.appendChild(newEl);\n  }\n}\n","import Card from \"./Card\";\n\nexport default class Board {\n  constructor() {\n    this.board = null;\n    this.tasksTodo = [];\n    this.tasksInP = [];\n    this.tasksDone = [];\n    this.tasks = [this.tasksTodo, this.tasksInP, this.tasksDone];\n    this.addInput = this.addInput.bind(this);\n    this.closeForm = this.closeForm.bind(this);\n    this.addNewTask = this.addNewTask.bind(this);\n    this.closeBtnEvent = this.closeBtnEvent.bind(this);\n    this.removeTask = this.removeTask.bind(this);\n    this.saveListOfTasks = this.saveListOfTasks.bind(this);\n    this.mouseDown = this.mouseDown.bind(this);\n    this.dragMove = this.dragMove.bind(this);\n    this.mouseUp = this.mouseUp.bind(this);\n    this.drawSavedTasks = this.drawSavedTasks.bind(this);\n    this.showPossiblePlace = this.showPossiblePlace.bind(this);\n  }\n  init() {\n    this.drawBoard();\n    this.drawSavedTasks();\n    const addList = this.board.querySelectorAll(\".column-add\");\n    [...addList].forEach((el) => el.addEventListener(\"click\", this.addInput));\n    window.addEventListener(\"beforeunload\", this.saveListOfTasks);\n  }\n  static get markupBoard() {\n    return `<div class=\"column\">\n    <h2 class=\"column-header\">todo</h2>\n    <ul class=\"tasks-list todo\"></ul>\n    <div class=\"column-add\">Add another card</div>\n  </div>\n  <div class=\"column\">\n    <h2 class=\"column-header\">in progress</h2>\n    <ul class=\"tasks-list in-progress\" id=\"trew\"></ul> \n    <div class=\"column-add\">Add another card</div>\n  </div>\n  <div class=\"column\">\n    <h2 class=\"column-header\">done</h2>\n    <ul class=\"tasks-list done\"></ul>\n    <div class=\"column-add\">Add another card</div>\n  </div>`;\n  }\n  static get markupInput() {\n    return `\n    <textarea class=\"add-form-textarea\" type =\"text\"\n     placeholder=\"Enter a title for this card\"></textarea>\n    <div class=\"add-form-card\">\n      <button class=\"add-form-add-card\">Add Card</button>\n      <button class=\"add-form-close-card\"></button>\n    </div>`;\n  }\n  drawBoard() {\n    this.board = document.createElement(\"main\");\n    this.board.classList.add(\"board\");\n    this.board.innerHTML = this.constructor.markupBoard;\n    document.querySelector(\"body\").appendChild(this.board);\n  }\n  addInput(event) {\n    const newCardForm = document.createElement(\"form\");\n    newCardForm.classList.add(\"column-add-form\");\n    newCardForm.innerHTML = this.constructor.markupInput;\n    const closestColumn = event.target.closest(\".column\");\n\n    event.target.replaceWith(newCardForm);\n\n    const add = closestColumn.querySelector(\".add-form-add-card\");\n    const close = closestColumn.querySelector(\".add-form-close-card\");\n\n    add.addEventListener(\"click\", this.addNewTask);\n    close.addEventListener(\"click\", this.closeForm);\n  }\n  addNewTask(event) {\n    event.preventDefault();\n    const closestColumn = event.target.closest(\".column\");\n    const parent = closestColumn.querySelector(\".tasks-list\");\n    const taskValue = closestColumn.querySelector(\".add-form-textarea\").value;\n    if (taskValue) {\n      new Card(parent, taskValue).addTask();\n      const columnAdd = document.createElement(\"div\");\n      columnAdd.classList.add(\"column-add\");\n      columnAdd.textContent = \"Add card\";\n      closestColumn.removeChild(\n        closestColumn.querySelector(\".column-add-form\"),\n      );\n      closestColumn.appendChild(columnAdd);\n      columnAdd.addEventListener(\"click\", this.addInput);\n      this.addListeners();\n    } else {\n      alert(\"Add some text!\");\n    }\n  }\n  saveListOfTasks() {\n    this.tasksTodo = [];\n    this.tasksInP = [];\n    this.tasksDone = [];\n    const todo = this.board.querySelector(\".todo\");\n    const inP = this.board.querySelector(\".in-progress\");\n    const done = this.board.querySelector(\".done\");\n    const tasksTodo = [...todo.querySelectorAll(\".task\")];\n    const tasksInP = [...inP.querySelectorAll(\".task\")];\n    const tasksDone = [...done.querySelectorAll(\".task\")];\n    tasksTodo.forEach((task) => this.tasksTodo.push(task.textContent));\n    tasksInP.forEach((task) => this.tasksInP.push(task.textContent));\n    tasksDone.forEach((task) => this.tasksDone.push(task.textContent));\n    this.tasks = [this.tasksTodo, this.tasksInP, this.tasksDone];\n    localStorage.setItem(\"tasks\", JSON.stringify(this.tasks));\n  }\n\n  drawSavedTasks() {\n    const savedTasks = localStorage.getItem(\"tasks\");\n    if (savedTasks) {\n      this.tasks = JSON.parse(savedTasks);\n    }\n    const parents = [\".todo\", \".in-progress\", \".done\"];\n\n    for (let index = 0; index < parents.length; index += 1) {\n      const parent = this.board.querySelector(parents[index]);\n\n      this.tasks[index].forEach((elem) => {\n        new Card(parent, elem).addTask();\n\n        if (index === 0) {\n          this.tasksTodo.push(elem);\n        }\n        if (index === 1) {\n          this.tasksInP.push(elem);\n        }\n        if (index === 2) {\n          this.tasksDone.push(elem);\n        }\n      });\n      this.addListeners();\n    }\n  }\n  closeForm(event) {\n    event.preventDefault();\n    const columnAdd = document.createElement(\"div\");\n    columnAdd.classList.add(\"column-add\");\n    columnAdd.textContent = \"Add another card\";\n\n    const parent = event.target.closest(\".column\");\n    const child = parent.querySelector(\".column-add-form\");\n    parent.removeChild(child);\n    parent.appendChild(columnAdd);\n    columnAdd.addEventListener(\"click\", this.addInput);\n  }\n  addListeners() {\n    const taskList = this.board.querySelectorAll(\".task\");\n    [...taskList].forEach((el) =>\n      el.addEventListener(\"mouseover\", this.closeBtnEvent),\n    );\n    [...taskList].forEach((el) =>\n      el.addEventListener(\"mouseleave\", this.onTaskLeave),\n    );\n    [...taskList].forEach((el) =>\n      el.addEventListener(\"mousedown\", this.mouseDown),\n    );\n  }\n\n  removeTask(event) {\n    const task = event.target.closest(\".task\");\n    const parent = event.target.closest(\".tasks-list\");\n\n    parent.removeChild(task);\n  }\n\n  closeBtnEvent(event) {\n    if (\n      event.target.classList.contains(\"task\") &&\n      !event.target.querySelector(\".close\")\n    ) {\n      const closeEl = document.createElement(\"div\");\n      closeEl.classList.add(\"task-list-close\");\n      closeEl.classList.add(\"close\");\n\n      event.target.appendChild(closeEl);\n      closeEl.style.top = `${closeEl.offsetTop - closeEl.offsetHeight / 2}px`;\n      closeEl.style.left = `${\n        event.target.offsetWidth - closeEl.offsetWidth - 3\n      }px`;\n\n      closeEl.addEventListener(\"click\", this.removeTask);\n    }\n  }\n\n  onTaskLeave(event) {\n    event.target.removeChild(event.target.querySelector(\".close\"));\n  }\n\n  mouseDown(event) {\n    if (event.target.classList.contains(\"task\")) {\n      this.dragged = event.target;\n      this.hidden = event.target.cloneNode(true);\n      this.hidden.removeChild(this.hidden.querySelector(\".close\"));\n      this.hidden.classList.add(\"dragged\");\n      this.hidden.classList.add(\"ghost\");\n      this.hidden.style.width = `${this.dragged.offsetWidth}px`;\n      this.hidden.style.height = `${this.dragged.offsetHeight}px`;\n      document.body.appendChild(this.hidden);\n\n      const { top, left } = event.target.getBoundingClientRect();\n      this.top = event.pageY - top;\n      this.left = event.pageX - left;\n\n      this.hidden.style.top = `${top - this.dragged.offsetHeight}px`;\n      this.hidden.style.left = `${left - this.board.offsetWidth}px`;\n\n      this.hidden.style.width = `${this.dragged.offsetWidth}px`;\n      this.hidden.style.height = `${this.dragged.offsetHeight}px`;\n\n      this.board.addEventListener(\"mousemove\", this.dragMove);\n      document.addEventListener(\"mousemove\", this.showPossiblePlace);\n      document.addEventListener(\"mouseup\", this.mouseUp);\n    }\n  }\n\n  dragMove(event) {\n    event.preventDefault();\n    if (!this.dragged) {\n      return;\n    }\n    this.dragged.style.display = \"none\";\n    this.hidden.style.top = `${event.pageY - this.top}px`;\n    this.hidden.style.left = `${event.pageX - this.left}px`;\n  }\n\n  mouseUp() {\n    if (!this.dragged || !this.newPlace) {\n      return;\n    }\n\n    this.newPlace.replaceWith(this.dragged);\n\n    this.dragged.style.display = \"flex\";\n    document.body.removeChild(document.body.querySelector(\".dragged\"));\n\n    this.hidden = null;\n    this.dragged = null;\n  }\n\n  showPossiblePlace(event) {\n    event.preventDefault();\n    if (!this.dragged) {\n      return;\n    }\n\n    const closestColumn = event.target.closest(\".column\");\n\n    if (closestColumn) {\n      const closestColumnTask = closestColumn.querySelector(\".tasks-list\");\n      const allTasks = closestColumn.querySelectorAll(\".task\");\n      const allPos = [closestColumn.getBoundingClientRect().top];\n\n      if (allTasks) {\n        for (const item of allTasks) {\n          allPos.push(item.getBoundingClientRect().top + item.offsetHeight / 2);\n        }\n      }\n\n      if (!this.newPlace) {\n        this.newPlace = document.createElement(\"div\");\n        this.newPlace.classList.add(\"task-list__new-place\");\n      }\n\n      this.newPlace.style.width = `${this.hidden.offsetWidth}px`;\n      this.newPlace.style.height = `${this.hidden.offsetHeight}px`;\n\n      const itemIndex = allPos.findIndex((item) => item > event.pageY);\n      if (itemIndex !== -1) {\n        closestColumnTask.insertBefore(this.newPlace, allTasks[itemIndex - 1]);\n      } else {\n        closestColumnTask.appendChild(this.newPlace);\n      }\n    }\n  }\n}\n","import Board from \"./Board\";\n\nnew Board().init();\n","import \"./css/style.css\";\n\nimport \"./js/app\";\n\n// TODO: write your code in app.js\n"],"names":["Card","constructor","parent","value","addTask","newEl","document","createElement","classList","add","textContent","draggable","appendChild","Board","board","tasksTodo","tasksInP","tasksDone","tasks","addInput","bind","closeForm","addNewTask","closeBtnEvent","removeTask","saveListOfTasks","mouseDown","dragMove","mouseUp","drawSavedTasks","showPossiblePlace","init","drawBoard","addList","querySelectorAll","forEach","el","addEventListener","window","markupBoard","markupInput","innerHTML","querySelector","event","newCardForm","closestColumn","target","closest","replaceWith","close","preventDefault","taskValue","columnAdd","removeChild","addListeners","alert","todo","inP","done","task","push","localStorage","setItem","JSON","stringify","savedTasks","getItem","parse","parents","index","length","elem","child","taskList","onTaskLeave","contains","closeEl","style","top","offsetTop","offsetHeight","left","offsetWidth","dragged","hidden","cloneNode","width","height","body","getBoundingClientRect","pageY","pageX","display","newPlace","closestColumnTask","allTasks","allPos","item","itemIndex","findIndex","insertBefore"],"sourceRoot":""}